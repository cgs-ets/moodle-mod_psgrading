define(["jquery","core/log","core/ajax"],function(n,i,e){"use strict";function r(e){this.rootel=e,this.matrix=e.find(".psgrading-matrix")}return r.prototype.main=function(){var e=this;e.rootel.on("change",".group-select",function(e){var i=n(this).find(":selected").data("overviewurl");i&&window.location.replace(i)}),e.rootel.on("change",".student-select",function(e){var i=n(this).find(":selected").data("overviewurl");i&&window.location.replace(i)}),e.rootel.find(".psgrading-matrix.has-reportgrades .column.y-header .subjects .cell").hover(function(){e.matrix.addClass("hover-"+n(this).data("subject"))},function(){e.matrix.removeClass(function(e,i){return(i.match(/(^|\s)hover-\S+/g)||[]).join(" ")})})},{init:function(){i.debug("mod_psgrading/overview: initializing");var e=n(".psgrading-overview");e.length?new r(e).main():i.error("mod_psgrading/overview: .psgrading-overview not found!")}}});