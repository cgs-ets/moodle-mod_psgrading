define(["jquery","core/log","core/ajax"],function(i,n,e){"use strict";function r(e){this.rootel=e,this.matrix=e.find(".psgrading-matrix")}return r.prototype.main=function(){var e=this;e.rootel.on("change",".group-select",function(e){var n=i(this).find(":selected").data("overviewurl");n&&window.location.replace(n)}),e.rootel.on("change",".student-select",function(e){var n=i(this).find(":selected").data("overviewurl");n&&window.location.replace(n)}),e.rootel.find(".psgrading-matrix .column.y-header .subjects .cell, .psgrading-matrix .column.y-header .cell-engagement").hover(function(){e.matrix.addClass("hover-"+i(this).data("subject"))},function(){e.matrix.removeClass(function(e,n){return(n.match(/(^|\s)hover-\S+/g)||[]).join(" ")})})},{init:function(){n.debug("mod_psgrading/overview: initializing");var e=i(".psgrading-overview");e.length?new r(e).main():n.error("mod_psgrading/overview: .psgrading-overview not found!")}}});