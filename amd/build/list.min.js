define(["jquery","core/log","core/ajax"],function(i,o,e){"use strict";function t(n){this.rootel=n}return t.prototype.main=function(){var n;"undefined"!=typeof Sortable&&(n=document.getElementById("task-list"),new Sortable(n,{handle:".btn-reorder",animation:150,ghostClass:"reordering",onEnd:this.SortEnd}))},t.prototype.SortEnd=function(n){var t=new Array;i("#task-list .task").each(function(){t.push(i(this).data("id"))}),e.call([{methodname:"mod_psgrading_apicontrol",args:{action:"reorder_tasks",data:JSON.stringify(t)},done:function(){},fail:function(n){o.debug(n)}}])},{init:function(){o.debug("mod_psgrading/list: initializing");var n=i("#page-mod-psgrading-view");n.length?new t(n).main():o.error("mod_psgrading/list: #page-mod-psgrading-view not found!")}}});