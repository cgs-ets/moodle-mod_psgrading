{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.

    @package   mod_psgrading
    @copyright 2021 Michael Vangelovski
    @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
}}
{{!
    @template mod_psgrading/list

    View template.
}}
<tr class="task {{^published}}not-published{{/published}} {{#draftjson}}has-draft{{/draftjson}}" data-id="{{id}}">
    {{#published}}
        <td class="cell c0 c-name">{{taskname}}</td>
        <td class="cell c1 c-pypuoi">{{pypuoi}}</td>
    {{/published}}
    {{^published}}
        <td class="cell c0 c-name">{{draftdata.taskname}}</td>
        <td class="cell c1 c-pypuoi">{{draftdata.pypuoi}}</td>
    {{/published}}
    
    <td class="cell c3 c-status">
        {{#published}}

            {{! <i class="fa fa-check-square" aria-hidden="true"></i> }}

            {{#released}}
                <span class="badge badge-success">
                    {{#str}}gradesreleased, mod_psgrading{{/str}}
                </span>
            {{/released}}

            {{^released}}
                <span class="badge badge-info">
                    {{#str}}readytograde, mod_psgrading{{/str}}
                </span>
            {{/released}}

            {{#draftjson}}
                <span class="badge badge-danger">
                    {{#str}}unpublishededits, mod_psgrading{{/str}}
                </span>
            {{/draftjson}}

        {{/published}}

        {{^published}}
            <span class="badge badge-warning">
                {{#str}}notpublishedyet, mod_psgrading{{/str}}
            </span>
        {{/published}}

    </td>

    <td class="cell c4 c-lastmod">{{readabletime}}</td>

    <td class="cell c5 c-actions lastcol">

        <div class="dropdown">
            <button class="btn btn-primary actions-dropdown" type="button" id="actions-dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Actions&nbsp;&nbsp;<i class="fa fa-caret-right" aria-hidden="true"></i></button>

            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="actions-dropdown">

                <a class="dropdown-item action-edit" href="{{editurl}}"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> {{^isdraft}}Edit{{/isdraft}}{{#isdraft}}Continue editing{{/isdraft}}</a>

                {{#published}}
                    <a class="dropdown-item action-grade" href="{{markurl}}"><i class="fa fa-table" aria-hidden="true"></i> Grade</a>
                    <div class="dropdown-divider"></div>
                    {{^released}}<a class="dropdown-item action-release" href="#"><i class="fa fa-eye" aria-hidden="true"></i> Release grades</a>{{/released}}
                    {{#released}}<a class="dropdown-item action-undorelease" href="#"><i class="fa fa-eye-slash" aria-hidden="true"></i> Hide grades</a>{{/released}}
                {{/published}}

                {{#isdraft}}
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item action-discarddraft" href="#"><i class="fa fa-trash-o" aria-hidden="true"></i> {{#str}}task:discarddraft, mod_psgrading{{/str}}</a>
                {{/isdraft}}

            </div>
        </div>
        
        <a class="btn-reorder"><i title="Reorder" class="fa fa-arrows-v" aria-hidden="true"></i></a>
    </td>
</tr>